"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_src_app_api_supabase_auth_index_js";
exports.ids = ["_rsc_src_app_api_supabase_auth_index_js"];
exports.modules = {

/***/ "(rsc)/./src/app/api/supabase/auth/index.js":
/*!********************************************!*\
  !*** ./src/app/api/supabase/auth/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   forgotPassword: () => (/* binding */ forgotPassword),\n/* harmony export */   getUser: () => (/* binding */ getUser),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   resend: () => (/* binding */ resend),\n/* harmony export */   resetPassword: () => (/* binding */ resetPassword),\n/* harmony export */   signOut: () => (/* binding */ signOut),\n/* harmony export */   signUp: () => (/* binding */ signUp),\n/* harmony export */   verifyOtp: () => (/* binding */ verifyOtp)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _enum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/enum */ \"(rsc)/./src/enum.js\");\n/* harmony import */ var _utils_supabase_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/supabase/server */ \"(rsc)/./src/utils/supabase/server.js\");\n// @next\n\n// @project\n\n\nconst supabase = (0,_utils_supabase_server__WEBPACK_IMPORTED_MODULE_2__.createSupabaseClient)();\nasync function login(request) {\n    try {\n        const body = await request.json();\n        const payload = {\n            email: body.email,\n            password: body.password\n        };\n        const { data, error } = await supabase.auth.signInWithPassword(payload);\n        if (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            id: data.user?.id,\n            email: data.user?.email || '',\n            contact: data.user?.user_metadata?.contact,\n            dialcode: data.user?.user_metadata?.dialcode,\n            firstname: data.user?.user_metadata?.firstname,\n            lastname: data.user?.user_metadata?.lastname,\n            access_token: data.session?.access_token\n        }, {\n            status: 200\n        });\n    } catch  {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function getUser(token) {\n    try {\n        const { data, error } = await supabase.auth.getUser(token);\n        if (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            id: data.user.id,\n            email: data.user.email || '',\n            role: data.user.user_metadata.role,\n            contact: data.user.user_metadata.contact,\n            dialcode: data.user.user_metadata.dialcode,\n            firstname: data.user.user_metadata.firstname,\n            lastname: data.user.user_metadata.lastname\n        }, {\n            status: 200\n        });\n    } catch  {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function signUp(request) {\n    try {\n        const body = await request.json();\n        const { error } = await supabase.auth.signUp({\n            email: body.email,\n            password: body.password,\n            options: {\n                data: {\n                    firstname: body.firstname,\n                    lastname: body.lastname,\n                    dialcode: body.dialcode,\n                    contact: body.contact,\n                    role: _enum__WEBPACK_IMPORTED_MODULE_1__.AuthRole.USER\n                }\n            }\n        });\n        if (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 400\n            });\n        }\n        // Success\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: 200\n        });\n    } catch  {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function verifyOtp(request) {\n    try {\n        const body = await request.json();\n        const payload = {\n            email: body.email,\n            token: body.otp,\n            type: body.type\n        };\n        // Verify OTP\n        const { error } = await supabase.auth.verifyOtp(payload);\n        if (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 400\n            });\n        }\n        // Success\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: 200\n        });\n    } catch  {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function resend(request) {\n    try {\n        const body = await request.json();\n        const payload = {\n            email: body.email,\n            type: body.type\n        };\n        const { error } = await supabase.auth.resend(payload);\n        if (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 400\n            });\n        }\n        // Success\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: 200\n        });\n    } catch  {\n        // Internal Server Error\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function forgotPassword(request) {\n    try {\n        const body = await request.json();\n        const { error } = await supabase.auth.resetPasswordForEmail(body.email, {\n            redirectTo: body.redirectTo\n        });\n        if (error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 400\n            });\n        }\n        // Success\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: 200\n        });\n    } catch  {\n        // Internal Server Error\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function resetPassword(request) {\n    try {\n        const body = await request.json();\n        // To reset a password in Supabase, first you need to set a session, and then only you can update the user.\n        // After successful user update, sign out from Supabase so that we can prevent the user from resetting the password again with the same link.\n        const { error: sessionError } = await supabase.auth.setSession({\n            access_token: body.accessToken,\n            refresh_token: body.refreshToken\n        });\n        if (sessionError) {\n            // Bad Request\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const { error } = await supabase.auth.updateUser({\n            password: body.password\n        });\n        if (error) {\n            // Bad Request\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: error.message\n            }, {\n                status: 400\n            });\n        }\n        await supabase.auth.signOut();\n        // // Success\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: 200\n        });\n    } catch  {\n        // Internal Server Error\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function signOut() {\n    try {\n        await supabase.auth.signOut();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: 200\n        });\n    } catch  {\n        // Internal Server Error\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Server error'\n        }, {\n            status: 500\n        });\n    }\n}\n// Export as a single object for easy import\nconst mockAuth = {\n    login,\n    getUser,\n    signUp,\n    verifyOtp,\n    resend,\n    forgotPassword,\n    resetPassword,\n    signOut\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mockAuth);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zdXBhYmFzZS9hdXRoL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLFFBQVE7QUFDbUM7QUFFM0MsV0FBVztBQUN1QjtBQUM2QjtBQUUvRCxNQUFNRyxXQUFXRCw0RUFBb0JBO0FBRTlCLGVBQWVFLE1BQU1DLE9BQU87SUFDakMsSUFBSTtRQUNGLE1BQU1DLE9BQU8sTUFBTUQsUUFBUUUsSUFBSTtRQUMvQixNQUFNQyxVQUFVO1lBQUVDLE9BQU9ILEtBQUtHLEtBQUs7WUFBRUMsVUFBVUosS0FBS0ksUUFBUTtRQUFDO1FBQzdELE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNVCxTQUFTVSxJQUFJLENBQUNDLGtCQUFrQixDQUFDTjtRQUMvRCxJQUFJSSxPQUFPO1lBQ1QsT0FBT1oscURBQVlBLENBQUNPLElBQUksQ0FBQztnQkFBRUssT0FBT0EsTUFBTUcsT0FBTztZQUFDLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUNuRTtRQUVBLE9BQU9oQixxREFBWUEsQ0FBQ08sSUFBSSxDQUN0QjtZQUNFVSxJQUFJTixLQUFLTyxJQUFJLEVBQUVEO1lBQ2ZSLE9BQU9FLEtBQUtPLElBQUksRUFBRVQsU0FBUztZQUMzQlUsU0FBU1IsS0FBS08sSUFBSSxFQUFFRSxlQUFlRDtZQUNuQ0UsVUFBVVYsS0FBS08sSUFBSSxFQUFFRSxlQUFlQztZQUNwQ0MsV0FBV1gsS0FBS08sSUFBSSxFQUFFRSxlQUFlRTtZQUNyQ0MsVUFBVVosS0FBS08sSUFBSSxFQUFFRSxlQUFlRztZQUNwQ0MsY0FBY2IsS0FBS2MsT0FBTyxFQUFFRDtRQUM5QixHQUNBO1lBQUVSLFFBQVE7UUFBSTtJQUVsQixFQUFFLE9BQU07UUFDTixPQUFPaEIscURBQVlBLENBQUNPLElBQUksQ0FBQztZQUFFSyxPQUFPO1FBQWUsR0FBRztZQUFFSSxRQUFRO1FBQUk7SUFDcEU7QUFDRjtBQUVPLGVBQWVVLFFBQVFDLEtBQUs7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SSxDQUFDO1lBQUVTLFFBQVE7UUFBSTtJQUN6QyxFQUFFLE9BQU07UUFDTix3QkFBd0I7UUFDeEIsT0FBT2hCLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFBRUssT0FBTztRQUFlLEdBQUc7WUFBRUksUUFBUTtRQUFJO0lBQ3BFO0FBQ0Y7QUFFQSw0Q0FBNEM7QUFDNUMsTUFBTStCLFdBQVc7SUFBRTNDO0lBQU9zQjtJQUFTRztJQUFRRztJQUFXRztJQUFRQztJQUFnQkc7SUFBZU87QUFBUTtBQUVyRyxpRUFBZUMsUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2dhdXJhdnBhbmRleS9Eb2N1bWVudHMvd29yay8wMS1wcm9qZWN0L2NvbXBseUFJL0NvbXBseUFJLUFwcC9zcmMvYXBwL2FwaS9zdXBhYmFzZS9hdXRoL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBuZXh0XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5cbi8vIEBwcm9qZWN0XG5pbXBvcnQgeyBBdXRoUm9sZSB9IGZyb20gJ0AvZW51bSc7XG5pbXBvcnQgeyBjcmVhdGVTdXBhYmFzZUNsaWVudCB9IGZyb20gJ0AvdXRpbHMvc3VwYWJhc2Uvc2VydmVyJztcblxuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTdXBhYmFzZUNsaWVudCgpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9naW4ocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCBwYXlsb2FkID0geyBlbWFpbDogYm9keS5lbWFpbCwgcGFzc3dvcmQ6IGJvZHkucGFzc3dvcmQgfTtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZChwYXlsb2FkKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBpZDogZGF0YS51c2VyPy5pZCxcbiAgICAgICAgZW1haWw6IGRhdGEudXNlcj8uZW1haWwgfHwgJycsXG4gICAgICAgIGNvbnRhY3Q6IGRhdGEudXNlcj8udXNlcl9tZXRhZGF0YT8uY29udGFjdCxcbiAgICAgICAgZGlhbGNvZGU6IGRhdGEudXNlcj8udXNlcl9tZXRhZGF0YT8uZGlhbGNvZGUsXG4gICAgICAgIGZpcnN0bmFtZTogZGF0YS51c2VyPy51c2VyX21ldGFkYXRhPy5maXJzdG5hbWUsXG4gICAgICAgIGxhc3RuYW1lOiBkYXRhLnVzZXI/LnVzZXJfbWV0YWRhdGE/Lmxhc3RuYW1lLFxuICAgICAgICBhY2Nlc3NfdG9rZW46IGRhdGEuc2Vzc2lvbj8uYWNjZXNzX3Rva2VuXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDIwMCB9XG4gICAgKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdTZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXIodG9rZW4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIodG9rZW4pO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIGlkOiBkYXRhLnVzZXIuaWQsXG4gICAgICAgIGVtYWlsOiBkYXRhLnVzZXIuZW1haWwgfHwgJycsXG4gICAgICAgIHJvbGU6IGRhdGEudXNlci51c2VyX21ldGFkYXRhLnJvbGUsXG4gICAgICAgIGNvbnRhY3Q6IGRhdGEudXNlci51c2VyX21ldGFkYXRhLmNvbnRhY3QsXG4gICAgICAgIGRpYWxjb2RlOiBkYXRhLnVzZXIudXNlcl9tZXRhZGF0YS5kaWFsY29kZSxcbiAgICAgICAgZmlyc3RuYW1lOiBkYXRhLnVzZXIudXNlcl9tZXRhZGF0YS5maXJzdG5hbWUsXG4gICAgICAgIGxhc3RuYW1lOiBkYXRhLnVzZXIudXNlcl9tZXRhZGF0YS5sYXN0bmFtZVxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiAyMDAgfVxuICAgICk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnU2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduVXAocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcblxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnblVwKHtcbiAgICAgIGVtYWlsOiBib2R5LmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IGJvZHkucGFzc3dvcmQsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBmaXJzdG5hbWU6IGJvZHkuZmlyc3RuYW1lLFxuICAgICAgICAgIGxhc3RuYW1lOiBib2R5Lmxhc3RuYW1lLFxuICAgICAgICAgIGRpYWxjb2RlOiBib2R5LmRpYWxjb2RlLFxuICAgICAgICAgIGNvbnRhY3Q6IGJvZHkuY29udGFjdCxcbiAgICAgICAgICByb2xlOiBBdXRoUm9sZS5VU0VSXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICAvLyBTdWNjZXNzXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3RhdHVzOiAyMDAgfSk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnU2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlPdHAocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCBwYXlsb2FkID0geyBlbWFpbDogYm9keS5lbWFpbCwgdG9rZW46IGJvZHkub3RwLCB0eXBlOiBib2R5LnR5cGUgfTtcblxuICAgIC8vIFZlcmlmeSBPVFBcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnZlcmlmeU90cChwYXlsb2FkKTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICAvLyBTdWNjZXNzXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3RhdHVzOiAyMDAgfSk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnU2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNlbmQocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCBwYXlsb2FkID0geyBlbWFpbDogYm9keS5lbWFpbCwgdHlwZTogYm9keS50eXBlIH07XG5cbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnJlc2VuZChwYXlsb2FkKTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICAvLyBTdWNjZXNzXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3RhdHVzOiAyMDAgfSk7XG4gIH0gY2F0Y2gge1xuICAgIC8vIEludGVybmFsIFNlcnZlciBFcnJvclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnU2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmb3Jnb3RQYXNzd29yZChyZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgucmVzZXRQYXNzd29yZEZvckVtYWlsKGJvZHkuZW1haWwsIHsgcmVkaXJlY3RUbzogYm9keS5yZWRpcmVjdFRvIH0pO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIC8vIFN1Y2Nlc3NcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdGF0dXM6IDIwMCB9KTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gSW50ZXJuYWwgU2VydmVyIEVycm9yXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdTZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcblxuICAgIC8vIFRvIHJlc2V0IGEgcGFzc3dvcmQgaW4gU3VwYWJhc2UsIGZpcnN0IHlvdSBuZWVkIHRvIHNldCBhIHNlc3Npb24sIGFuZCB0aGVuIG9ubHkgeW91IGNhbiB1cGRhdGUgdGhlIHVzZXIuXG4gICAgLy8gQWZ0ZXIgc3VjY2Vzc2Z1bCB1c2VyIHVwZGF0ZSwgc2lnbiBvdXQgZnJvbSBTdXBhYmFzZSBzbyB0aGF0IHdlIGNhbiBwcmV2ZW50IHRoZSB1c2VyIGZyb20gcmVzZXR0aW5nIHRoZSBwYXNzd29yZCBhZ2FpbiB3aXRoIHRoZSBzYW1lIGxpbmsuXG4gICAgY29uc3QgeyBlcnJvcjogc2Vzc2lvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNldFNlc3Npb24oeyBhY2Nlc3NfdG9rZW46IGJvZHkuYWNjZXNzVG9rZW4sIHJlZnJlc2hfdG9rZW46IGJvZHkucmVmcmVzaFRva2VuIH0pO1xuXG4gICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgLy8gQmFkIFJlcXVlc3RcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgudXBkYXRlVXNlcih7IHBhc3N3b3JkOiBib2R5LnBhc3N3b3JkIH0pO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICAvLyBCYWQgUmVxdWVzdFxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKTtcblxuICAgIC8vIC8vIFN1Y2Nlc3NcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdGF0dXM6IDIwMCB9KTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gSW50ZXJuYWwgU2VydmVyIEVycm9yXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdTZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25PdXQoKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KCk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3RhdHVzOiAyMDAgfSk7XG4gIH0gY2F0Y2gge1xuICAgIC8vIEludGVybmFsIFNlcnZlciBFcnJvclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnU2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbi8vIEV4cG9ydCBhcyBhIHNpbmdsZSBvYmplY3QgZm9yIGVhc3kgaW1wb3J0XG5jb25zdCBtb2NrQXV0aCA9IHsgbG9naW4sIGdldFVzZXIsIHNpZ25VcCwgdmVyaWZ5T3RwLCByZXNlbmQsIGZvcmdvdFBhc3N3b3JkLCByZXNldFBhc3N3b3JkLCBzaWduT3V0IH07XG5cbmV4cG9ydCBkZWZhdWx0IG1vY2tBdXRoO1xuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkF1dGhSb2xlIiwiY3JlYXRlU3VwYWJhc2VDbGllbnQiLCJzdXBhYmFzZSIsImxvZ2luIiwicmVxdWVzdCIsImJvZHkiLCJqc29uIiwicGF5bG9hZCIsImVtYWlsIiwicGFzc3dvcmQiLCJkYXRhIiwiZXJyb3IiLCJhdXRoIiwic2lnbkluV2l0aFBhc3N3b3JkIiwibWVzc2FnZSIsInN0YXR1cyIsImlkIiwidXNlciIsImNvbnRhY3QiLCJ1c2VyX21ldGFkYXRhIiwiZGlhbGNvZGUiLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsImFjY2Vzc190b2tlbiIsInNlc3Npb24iLCJnZXRVc2VyIiwidG9rZW4iLCJyb2xlIiwic2lnblVwIiwib3B0aW9ucyIsIlVTRVIiLCJ2ZXJpZnlPdHAiLCJvdHAiLCJ0eXBlIiwicmVzZW5kIiwiZm9yZ290UGFzc3dvcmQiLCJyZXNldFBhc3N3b3JkRm9yRW1haWwiLCJyZWRpcmVjdFRvIiwicmVzZXRQYXNzd29yZCIsInNlc3Npb25FcnJvciIsInNldFNlc3Npb24iLCJhY2Nlc3NUb2tlbiIsInJlZnJlc2hfdG9rZW4iLCJyZWZyZXNoVG9rZW4iLCJ1cGRhdGVVc2VyIiwic2lnbk91dCIsIm1vY2tBdXRoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/supabase/auth/index.js\n");

/***/ }),

/***/ "(rsc)/./src/utils/supabase/server.js":
/*!**************************************!*\
  !*** ./src/utils/supabase/server.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSupabaseClient: () => (/* binding */ createSupabaseClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nfunction createSupabaseClient() {\n    if (process.env.NEXT_PUBLIC_SUPABASE_URL && process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {\n        return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\n    } else {\n        throw new Error('Supabase URL and anon key are required.');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdXRpbHMvc3VwYWJhc2Uvc2VydmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFEO0FBRTlDLFNBQVNDO0lBQ2QsSUFBSUMsUUFBUUMsR0FBRyxDQUFDQyx3QkFBd0IsSUFBSUYsUUFBUUMsR0FBRyxDQUFDRSw2QkFBNkIsRUFBRTtRQUNyRixPQUFPTCxtRUFBWUEsQ0FBQ0UsUUFBUUMsR0FBRyxDQUFDQyx3QkFBd0IsRUFBRUYsUUFBUUMsR0FBRyxDQUFDRSw2QkFBNkI7SUFDckcsT0FBTztRQUNMLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvZ2F1cmF2cGFuZGV5L0RvY3VtZW50cy93b3JrLzAxLXByb2plY3QvY29tcGx5QUkvQ29tcGx5QUktQXBwL3NyYy91dGlscy9zdXBhYmFzZS9zZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN1cGFiYXNlQ2xpZW50KCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMICYmIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNsaWVudChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwsIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIFVSTCBhbmQgYW5vbiBrZXkgYXJlIHJlcXVpcmVkLicpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiY3JlYXRlU3VwYWJhc2VDbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJFcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/utils/supabase/server.js\n");

/***/ })

};
;